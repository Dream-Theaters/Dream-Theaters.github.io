<!DOCTYPE html>
<html lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta http-equiv="Cache-Control" content="no-siteapp">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <meta name="renderer" content="webkit">

  
  <title>原生JS操作DOM（二） | DreamTheater&#39;s Blog</title>

  <link rel="shortcut icon" href="/images/favicon.png">
  <link rel="alternate" href="/atom.xml" title="DreamTheater's Blog">
  <meta name="description" content="js中的DOM操作：盒子模型属性123456789101112131415161718192021222324252627282930&amp;gt; DOM：document object model文档对象模型，提供系列的属性和方法，让我们能在js中操作页面中的元素**获取元素的属性和方法**document.getElementById([ID])[context].getElementsByTag">
<meta name="keywords" content="Javascript">
<meta property="og:type" content="article">
<meta property="og:title" content="原生JS操作DOM（二）">
<meta property="og:url" content="http://dream-theater.top/2020/02/16/原生JS操作DOM（二）/index.html">
<meta property="og:site_name" content="DreamTheater&#39;s Blog">
<meta property="og:description" content="js中的DOM操作：盒子模型属性123456789101112131415161718192021222324252627282930&amp;gt; DOM：document object model文档对象模型，提供系列的属性和方法，让我们能在js中操作页面中的元素**获取元素的属性和方法**document.getElementById([ID])[context].getElementsByTag">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2020-03-02T06:35:04.999Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="原生JS操作DOM（二）">
<meta name="twitter:description" content="js中的DOM操作：盒子模型属性123456789101112131415161718192021222324252627282930&amp;gt; DOM：document object model文档对象模型，提供系列的属性和方法，让我们能在js中操作页面中的元素**获取元素的属性和方法**document.getElementById([ID])[context].getElementsByTag">

  <meta name="format-detection" content="telephone=no,email=no">
  <meta name="theme-color" content="#9C27B0">
  <meta name="description" content="learning">
  <meta name="keywords" content=",Javascript">

  <meta name="mobile-web-app-capable" content="yes">
  <meta name="application-name" content="DreamTheater&#39;s Blog">
  <meta name="msapplication-starturl" content="http://dream-theater.top/2020/02/16/原生JS操作DOM（二）/">
  <meta name="msapplication-navbutton-color" content="#9C27B0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="DreamTheater&#39;s Blog">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/images/favicon.png">

  
    <meta property="article:published_time" content="Sun Feb 16 2020 16:17:41 GMT+0800">
    <meta property="article:modified_time" content="Mon Mar 02 2020 14:35:04 GMT+0800">
  

  
    <link rel="canonical" href="http://dream-theater.top/2020/02/16/原生JS操作DOM（二）/">
  

  
  

  
  
  

  <link rel="stylesheet" href="/css/mdui.css">
<link rel="stylesheet" href="/css/style.css">
</head>
<body class="mdui-appbar-with-toolbar mdui-drawer-body-left mdui-theme-primary-indigo mdui-theme-accent-pink">
  <script>var a=localStorage.getItem("mdui-theme-layout-dark");if(a){document.getElementsByTagName("body")[0].className+=" mdui-theme-layout-dark"};</script>
  <header id="header" class="mdui-appbar mdui-appbar-fixed mdui-appbar-scroll-hide mdui-appbar-inset">
  <div class="mdui-toolbar mdui-color-theme">
    <a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#sidebar', swipe: true}"><i class="mdui-icon material-icons">menu</i></a>
    <a href="/" class="mdui-typo-headline">DreamTheater&#39;s Blog</a>
    <div class="mdui-toolbar-spacer"></div>
    <a href="javascript:;" class="mdui-btn mdui-btn-icon" mdui-dialog="{target: '#search'}" mdui-tooltip="{content: 'Search'}"><i class="mdui-icon material-icons">search</i></a>
    <a href="/atom.xml" class="mdui-btn mdui-btn-icon" mdui-tooltip="{content: 'RSS'}"><i class="mdui-icon material-icons">rss_feed</i></a>
  </div>
</header>
<div class="mdui-dialog" id="search">
  
    <div class="search-form">
      <input type="search" class="search-form-input" placeholder="Enter the key words">
    </div>
    <div class="search-result" data-resource="/search.xml"></div>
  
</div>
  <aside id="sidebar" class="mdui-drawer mdui-drawer-full-height">
  <div class="mdui-grid-tile">
    <img src="/images/banner.png" style="height: 160px;">
    <img src="/images/bog_head portrait.jpg" class="avatar-animation" style="position: absolute; top: 10%; left: 24px; width: 64px; height: 64px; border: 2px solid #fff; border-radius: 50%;">
    <div class="mdui-grid-tile-actions">
      <div class="mdui-grid-tile-text">
        <div class="mdui-grid-tile-title">Wujiang</div>
        <div class="mdui-grid-tile-subtitle"><i class="mdui-icon material-icons">art_track</i>学习日志</div>
      </div>
      
    </div>
  </div>

  <div class="mdui-list" mdui-collapse="{accordion: true}">
    <a href="/" class="mdui-list-item mdui-ripple">
      <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-blue">home</i>
      <div class="mdui-list-item-content">Home</div>
    </a>
    <div class="mdui-collapse-item">
      <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-deep-orange">inbox</i>
        <div class="mdui-list-item-content">Archive</div>
        <i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i>
      </div>
      <div class="mdui-collapse-item-body mdui-list mdui-list-dense">
        
        <a class="mdui-ripple sidebar_archives-link" href="/archives/2020/05/">May 2020<span class="mdui-ripple sidebar_archives-count">6</span></a><a class="mdui-ripple sidebar_archives-link" href="/archives/2020/02/">February 2020<span class="mdui-ripple sidebar_archives-count">26</span></a>
        
      </div>
    </div>
    <div class="mdui-collapse-item">
      <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-green">chrome_reader_mode</i>
        <div class="mdui-list-item-content">Category</div>
        <i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i>
      </div>
      <div class="mdui-collapse-item-body mdui-list mdui-list-dense">
        
        
        
          <a href="javascript:;" class="mdui-list-item mdui-ripple mdui-p-l-2 mdui-text-color-theme" style="justify-content: center;">No Categories</a>
        
      </div>
    </div>
    <div class="mdui-collapse-item">
      <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-brown">bookmark</i>
        <div class="mdui-list-item-content">Tag</div>
        <i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i>
      </div>
      <div class="mdui-collapse-item-body mdui-list mdui-list-dense">
        
        <a class="mdui-ripple sidebar_archives-link" href="/tags/Django/">Django<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Javascript/">Javascript<span class="mdui-ripple sidebar_archives-count">18</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/Linux/">Linux<span class="mdui-ripple sidebar_archives-count">5</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/MYSQL/">MYSQL<span class="mdui-ripple sidebar_archives-count">1</span></a><a class="mdui-ripple sidebar_archives-link" href="/tags/NODEJS/">NODEJS<span class="mdui-ripple sidebar_archives-count">6</span></a>
        
      </div>
    </div>
    <a href="/about" class="mdui-list-item mdui-ripple">
      <i class="mdui-list-item-icon mdui-icon material-icons mdui-text-color-purple">person</i>
      <div class="mdui-list-item-content">About</div>
    </a>
  </div>

  <div class="mdui-divider"></div>

  <div class="mdui-list" mdui-collapse="{accordion: true}">
    
      <a href="/tags" class="mdui-list-item mdui-ripple">Tags</a>
    
      <a href="/gallery" class="mdui-list-item mdui-ripple">Gallery</a>
    
    <div class="mdui-collapse-item">
      <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
        <div class="mdui-list-item-content">Links</div>
        <i class="mdui-list-item-icon mdui-icon material-icons">link</i>
      </div>
      <div class="mdui-collapse-item-body mdui-list mdui-list-dense">
        
          <a href="https://github.com" target="_blank" class="mdui-list-item mdui-ripple mdui-p-l-2 mdui-text-color-theme-accent" style="justify-content: center;">Github</a>
        
        
      </div>
    </div>
  </div>
</aside>
  <main id="main" class="mdui-m-t-5 fadeIn animated">
  <link rel="stylesheet" href="https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.css">
  <style>#main article .mdui-card-content .center-block{display:block!important;margin-right:auto!important;margin-left:auto!important}</style>
  <article class="mdui-card mdui-m-b-5">
    <header class="mdui-card-media">
      <img src="/images/random/material-6.png" style="max-height: 240px;">
      <div class="mdui-card-media-covered">
        <div class="mdui-card-primary">
          <div class="mdui-card-primary-title">原生JS操作DOM（二）</div>
          <div class="mdui-card-primary-subtitle"><i class="iconfont">&#xe697;</i> 2020-02-16 / <i class="iconfont">&#xe601;</i> Wujiang</div>
        </div>
      </div>
      <div class="mdui-card-menu">
        
          <button class="mdui-btn mdui-btn-icon mdui-text-color-white" mdui-menu="{target: '#qrcode', align: 'right'}"><i class="mdui-icon material-icons">devices</i></button>
          <ul class="mdui-menu" id="qrcode">
            
              <li class="mdui-menu-item"><a class="mdui-text-center mdui-ripple">Send to mobile phone</a></li>
            
            <li class="mdui-menu-item" disabled>
              
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAAC1klEQVR42u3aUW7CMBAEUO5/6fYAVcLMOq2o/fKFKCR+rsRqd/z6OvJ6YWNjY2NjY2NjY38k+xVfP7919frq81d/zVeytGZsbGzsrdlvfvrjR94jk3euNmJlzdjY2NjnsO+Xe/96vVAl95+tGRsbGxs7aTySdmVW0pL1YGNjY2PXt7htBvLtSErabOuxsbGxz2QXA5p46SvLTVqRP5qlYWNjY388uw1ZP+H1n+bb2NjY2B/Mro8wlvFAGyHcRwuPHb7ExsbG3og9O7KTtw2zdiV/vwiYsbGxsTdlt/FtUmZWtjLBtE0INjY29t7sWVFp2W3AMIsrHpulYWNjY/9bdluiVqKFdrParcTGxsY+h31PXRnxtK1Fu6o6usDGxsbelL1SNnJ2G+7mgXExxsLGxsbelN0WmFno2wYJbamLPoONjY29NXslsk2upwrSUmiBjY2NfRi7DYDzRiWhzu5Zz9KwsbGxN2W3o6K2tZghZ3hsbGzsE9j5I1fG921zkscSxQFQbGxs7E3ZbeORB7dtgXx2s7CxsbFPYydtQ9uurDQSs2Ogb1zY2NjYW7PXi1YbGPzesy7/JdjY2NibsqOf/lFRWTmIMxtsvSmu2NjY2Mewi4F7WWCKUHZ0hKhoRbCxsbE3ZSewdiS00n60xe+BIzvY2NjY/5Y9W+LKcp+68mKGjY2NvTc7iW9XAuBZYzNrcuqhEjY2NvYB7KQU1UchFzarfRY2Njb2Oex8EJ8cvswD3WQjXuWFjY2NfQ57NsTJx0nJsvImJ9/K6MwpNjY29hbsWUlo24B242bhxJvCjI2Njb01ezbKT4Y+TzU2v3hSCRsbG3sj9sqxm6KQxEd/ZluJjY2NjZ2w80g4WdCsUUkCYGxsbGzsdjTf3m29wcg/j42NjX0C+6mhUj5smn03CYOxsbGxT2PPRvkrcexKiJtc2NjY2Oewz7mwsbGxsbGxsbGxP+b6BoZTvrlEluK1AAAAAElFTkSuQmCC">
              
            </li>
          </ul>
        
        
          <button class="mdui-btn mdui-btn-icon mdui-text-color-white" mdui-menu="{target: '#share_menu', align: 'right'}"><i class="mdui-icon material-icons">share</i></button>
          <ul class="mdui-menu" id="share_menu">
            <li class="mdui-menu-item">
              <a href="http://service.weibo.com/share/share.php?appkey=&title=原生JS操作DOM（二）&url=http://dream-theater.top/2020/02/16/原生JS操作DOM（二）/&pic=http://dream-theater.top/images/favicon.png&searchPic=false&style=simple" target="_blank" class="mdui-ripple">Share to Weibo</a>
            </li>
            <li class="mdui-menu-item">
              <a href="https://twitter.com/intent/tweet?text=原生JS操作DOM（二）&url=http://dream-theater.top/2020/02/16/原生JS操作DOM（二）/&via=Wujiang" target="_blank" class="mdui-ripple">Share to Twitter</a>
            </li>
            <li class="mdui-menu-item">
              <a href="https://www.facebook.com/sharer/sharer.php?u=http://dream-theater.top/2020/02/16/原生JS操作DOM（二）/" target="_blank" class="mdui-ripple">Share to Facebook</a>
            </li>
            <li class="mdui-menu-item">
              <a href="https://plus.google.com/share?url=http://dream-theater.top/2020/02/16/原生JS操作DOM（二）/" target="_blank" class="mdui-ripple">Share to Google+</a>
            </li>
            <li class="mdui-menu-item">
              <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://dream-theater.top/2020/02/16/原生JS操作DOM（二）/&title=原生JS操作DOM（二）" target="_blank" class="mdui-ripple">Share to LinkedIn</a>
            </li>
            <li class="mdui-menu-item">
              <a href="http://connect.qq.com/widget/shareqq/index.html?site=DreamTheater&#39;s Blog&title=原生JS操作DOM（二）&summary=learning&pics=http://dream-theater.top/images/favicon.png&url=http://dream-theater.top/2020/02/16/原生JS操作DOM（二）/" target="_blank" class="mdui-ripple">Share to QQ</a>
            </li>
            <li class="mdui-menu-item">
              <a href="https://telegram.me/share/url?url=http://dream-theater.top/2020/02/16/原生JS操作DOM（二）/&text=原生JS操作DOM（二）" target="_blank" class="mdui-ripple">Share to Telegram</a>
            </li>
          </ul>
        
      </div>
    </header>
    <div class="mdui-card-content mdui-typo">
      <h3 id="js中的DOM操作：盒子模型属性"><a href="#js中的DOM操作：盒子模型属性" class="headerlink" title="js中的DOM操作：盒子模型属性"></a><strong>js中的DOM操作：盒子模型属性</strong></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&gt; DOM：<span class="built_in">document</span> object model文档对象模型，提供系列的属性和方法，让我们能在js中操作页面中的元素</span><br><span class="line"></span><br><span class="line">**获取元素的属性和方法**</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.getElementById([ID])</span><br><span class="line">[context].getElementsByTagName([TAG-NAME])</span><br><span class="line">[context].getElementsByClassName([CLASS-NAME])</span><br><span class="line"><span class="comment">//=&gt;在IE6~8中不兼容</span></span><br><span class="line"><span class="built_in">document</span>.getElementsByName([NAME])</span><br><span class="line"><span class="comment">//=&gt;在IE浏览器中只对表单元素的NAME有作用</span></span><br><span class="line">[context].querySelector([SELECTOR])</span><br><span class="line">[context].querySelectorAll([SELECTOR])</span><br><span class="line"><span class="comment">//=&gt;在IE6~8中不兼容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------</span></span><br><span class="line"><span class="built_in">document</span></span><br><span class="line"><span class="built_in">document</span>.documentElement</span><br><span class="line"><span class="built_in">document</span>.head</span><br><span class="line"><span class="built_in">document</span>.body</span><br><span class="line"></span><br><span class="line">childNodes  所有子节点</span><br><span class="line">children	所有元素子节点</span><br><span class="line"><span class="comment">//=&gt;IE6~8中会把注释节点当做元素节点获取到</span></span><br><span class="line">parentNode</span><br><span class="line">firstChild / firstElementChild</span><br><span class="line">lastChild / lastElementChild</span><br><span class="line">previousSibling / previousElementSibling</span><br><span class="line">nextSibling / nextElementSibling</span><br><span class="line"><span class="comment">//=&gt;所有带Element的,在IE6~8中不兼容</span></span><br></pre></td></tr></table></figure>

<h3 id="DOM的增删改操作"><a href="#DOM的增删改操作" class="headerlink" title="DOM的增删改操作"></a><strong>DOM的增删改操作</strong></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.createElement([TAG-NAME])</span><br><span class="line"><span class="built_in">document</span>.createTextNode([TEXT CONTENT])</span><br><span class="line">字符串拼接（模板字符串），然后基于innerHTMl/innerText存放到容器中</span><br><span class="line"></span><br><span class="line">[PARENT].appendChild([NEW-ELEMENT])</span><br><span class="line">[PARENT].insertBefore([NEW-ELEMENT], [ELEMENT])</span><br><span class="line"></span><br><span class="line">[ELEMENT].cloneNode([TRUE/FALSE])</span><br><span class="line">[PARENT].removeChild([ELEMENT])</span><br><span class="line"></span><br><span class="line"><span class="comment">//=&gt;设置自定义属性</span></span><br><span class="line">[ELEMENT].xxx=xxx;</span><br><span class="line"><span class="built_in">console</span>.log([ELEMENT].xxx);</span><br><span class="line"><span class="keyword">delete</span> [ELEMENT].xxx;</span><br><span class="line"></span><br><span class="line">[ELEMENT].setAttribute(<span class="string">'xxx'</span>, xxx);</span><br><span class="line"><span class="built_in">console</span>.log([ELEMENT].getAttribute(<span class="string">'xxx'</span>));</span><br><span class="line">[ELEMENT].removeAttribute(<span class="string">'xxx'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="获取元素样式和操作样式"><a href="#获取元素样式和操作样式" class="headerlink" title="获取元素样式和操作样式"></a><strong>获取元素样式和操作样式</strong></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//=&gt;修改元素样式</span></span><br><span class="line">[ELEMENT].style.xxx=xxx;   <span class="comment">//=&gt;修改和设置它的行内样式</span></span><br><span class="line">[ELEMENT].className=xxx;   <span class="comment">//=&gt;设置样式类</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//=&gt;获取元素的样式</span></span><br><span class="line"><span class="built_in">console</span>.log([ELEMENT].style.xxx); <span class="comment">//=&gt;获取的是当前元素写在行内上的样式，如果有这个样式，但是没有写在行内上，则获取不到</span></span><br><span class="line"><span class="keyword">let</span> w = box.style.width</span><br></pre></td></tr></table></figure>

<h3 id="js盒子模型属性"><a href="#js盒子模型属性" class="headerlink" title="js盒子模型属性"></a><strong>js盒子模型属性</strong></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&gt; 基于一些属性和方法，让我们能够获取到当前元素的样式信息，例如：clientWidth，offsetWidth等</span><br><span class="line"></span><br><span class="line">- client</span><br><span class="line">  - width / height</span><br><span class="line">  - top / left</span><br><span class="line">- offset</span><br><span class="line">  - width / height</span><br><span class="line">  - top / left</span><br><span class="line">  - parent</span><br><span class="line">- scroll</span><br><span class="line">  - width / height</span><br><span class="line">  - top / left</span><br><span class="line"></span><br><span class="line">方法：<span class="built_in">window</span>.getComputedStyle([ELEMENT], [伪类]) / [ELEMENT].currentStyle</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.documentElement.clientHeight<span class="comment">//获取当前页面一屏幕（可视化）区域的高度</span></span><br><span class="line"><span class="built_in">document</span>.documentElement.clientWidth<span class="comment">//获取当前页面一屏幕（可视化）区域的宽度</span></span><br><span class="line"><span class="keyword">let</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span><br><span class="line">box.clientWidth</span><br><span class="line">box.clientHeight</span><br><span class="line"><span class="comment">//=&gt;获取盒子可视区域的宽高（内容宽度+左右PADDING)</span></span><br><span class="line"><span class="comment">//1.内容溢出与否对它无影响</span></span><br><span class="line"><span class="comment">//2.获取的结果是没有单位的（其余的盒模型属性也是）</span></span><br><span class="line"><span class="comment">//3.获取的结果是整数，它会自己进行四舍五入（其余的盒模型属性也是）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> winW = <span class="built_in">document</span>.documentElement.clientWidth || <span class="built_in">document</span>.body.clientWidth;</span><br><span class="line"><span class="keyword">let</span> winH = <span class="built_in">document</span>.documentElement.clientHeight || <span class="built_in">document</span>.body.clientHeight;</span><br><span class="line"></span><br><span class="line"><span class="comment">//=&gt;获取盒子左边框和上边框的大小</span></span><br><span class="line">box.clientLeft</span><br><span class="line">box.clientTop</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">CSS3中给我们提供了新的盒子模型属性</span><br><span class="line">box-sizing: content-box(传统盒子模型：默认值)</span><br><span class="line">			border-box(新盒子模型)</span><br><span class="line">设置border-box后，我们写的width/height不在是内容的宽度，而是盒子最后的大小</span><br><span class="line">============================================================</span><br><span class="line">颜色搭配：</span><br><span class="line">padding: <span class="number">15</span>px;</span><br><span class="line">width: <span class="number">300</span>px;</span><br><span class="line">height: <span class="number">300</span>px;</span><br><span class="line">border: <span class="number">10</span>px solid lightblue;</span><br><span class="line">background: lightcyan;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">居中处理</span><br><span class="line">* &#123;</span><br><span class="line">	margin: <span class="number">0</span>;</span><br><span class="line">	padding: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">.box &#123;</span><br><span class="line">	box-sizing: border-box;</span><br><span class="line">	margin: <span class="number">20</span>px auto;</span><br><span class="line">	padding: <span class="number">15</span>px;</span><br><span class="line">    width: <span class="number">300</span>px;</span><br><span class="line">    height: <span class="number">300</span>px;</span><br><span class="line">    border: <span class="number">10</span>px solid lightblue;</span><br><span class="line">    background: lightcyan;</span><br><span class="line">    font-size: <span class="number">18</span>px;</span><br><span class="line">    line-height: <span class="number">30</span>px;</span><br><span class="line">&#125;</span><br><span class="line">第一种方法：居中：定位（知道盒子的宽高,border-box）</span><br><span class="line">.box &#123;</span><br><span class="line">	position: absolute;</span><br><span class="line">	top: <span class="number">50</span>%;</span><br><span class="line">	left: <span class="number">50</span>%;</span><br><span class="line">	margin-left: <span class="number">-150</span>px;</span><br><span class="line">	margin-top: <span class="number">-150</span>px;</span><br><span class="line">&#125;</span><br><span class="line">第二种方法：居中：定位（不知道盒子的宽高,border-box）</span><br><span class="line">.box &#123;</span><br><span class="line">	position: absolute;</span><br><span class="line">	top: <span class="number">50</span>%;</span><br><span class="line">	left: <span class="number">50</span>%;</span><br><span class="line">	<span class="comment">//基于CSS3变形属性中的位移，在不知道宽高的情况下也能实现效果</span></span><br><span class="line">	transform: translate(<span class="number">-50</span>%, <span class="number">-50</span>%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">第三种方法：居中：定位（不知道盒子的宽高,border-box）</span><br><span class="line">.box &#123;</span><br><span class="line">	position: absolute;</span><br><span class="line">	top: <span class="number">0</span>;</span><br><span class="line">	left: <span class="number">0</span>;</span><br><span class="line">	bottom: <span class="number">0</span>;</span><br><span class="line">	right: <span class="number">0</span>;</span><br><span class="line">	margin: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">第四种方法(FLEX)</span><br><span class="line">http:<span class="comment">//www.ruanyifeng.com/blog/2015/07/flex-grammar.html</span></span><br><span class="line">html,</span><br><span class="line">body &#123;</span><br><span class="line">	height: <span class="number">100</span>%;</span><br><span class="line">&#125;</span><br><span class="line">body &#123;</span><br><span class="line">	display: flex;</span><br><span class="line">	设置元素在FLEX容器主轴和交叉轴方向上的对齐方式：CENTER居中对齐</span><br><span class="line">	justify-content: center;</span><br><span class="line">	align-items: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JS实现居中：（一屏幕的宽度-盒子的宽度）/2 === LEFT</span></span><br><span class="line"><span class="keyword">let</span> winW = <span class="built_in">document</span>.documentElement.clientWidth,</span><br><span class="line">	winH = <span class="built_in">document</span>.documentElement.clientHeight,</span><br><span class="line">	box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span><br><span class="line">box.style.position = <span class="string">'absolute'</span>;</span><br><span class="line">box.style.left = (winW - <span class="number">300</span>) / <span class="number">2</span> + <span class="string">'px'</span>;</span><br><span class="line">box.style.top = (winH - <span class="number">300</span>) / <span class="number">2</span> + <span class="string">'px'</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span><br><span class="line"><span class="comment">//=&gt;在CLIENT的基础上加上BORDER == 盒子本身的宽度</span></span><br><span class="line">box.offsetWidth</span><br><span class="line">box.offsetHeight</span><br><span class="line"></span><br><span class="line">box.scrollWidth</span><br><span class="line">box.scrollHeight</span><br><span class="line"><span class="comment">//=&gt;在没有内容溢出的情况下，获取的结果和CLIENT是一样的</span></span><br><span class="line"><span class="comment">//=&gt;在有内容溢出的情况下，获取的结果约等于真实内容的宽高（上/左PADDING + 真实内容的高度/宽度）</span></span><br><span class="line"><span class="comment">//1.不同浏览器获取的结果不尽相同</span></span><br><span class="line"><span class="comment">//2.设置overflow属性值对最后的结果也会产生一定的影响</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取整个页面真实的高度</span></span><br><span class="line"><span class="built_in">document</span>.documentElement.scrollHeight ||</span><br><span class="line"><span class="built_in">document</span>.body.scrollHeight</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span><br><span class="line"><span class="comment">//=&gt;竖向滚动条卷去的高度</span></span><br><span class="line"><span class="comment">//=&gt;横向滚动条卷去的宽度</span></span><br><span class="line"><span class="comment">//1.边界值</span></span><br><span class="line"><span class="comment">//min=0</span></span><br><span class="line"><span class="comment">//max=整个的高度scrollHeight - 一屏幕的高度clientHeight</span></span><br><span class="line">box.scrollTop</span><br><span class="line">box.scrollLeft</span><br><span class="line"></span><br><span class="line"><span class="comment">//=&gt;13个盒子模型属性，只有这两个是“可读写”的属性（既可以获取也可以设置对应的值），其余的都是“只读”属性（不能设置值，只能获取）</span></span><br><span class="line">box.scrollTop=<span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">//实现回到页面顶部功能</span><br><span class="line">* &#123;</span><br><span class="line">	margin: 0;</span><br><span class="line">	padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">html,</span><br><span class="line">body &#123;</span><br><span class="line">	height: 1000%;</span><br><span class="line">	//CSS3中的背景颜色线性渐变</span><br><span class="line">	background: -webkit-linear-gradient(top left, lightblue, 			lightpink, lightyellow);</span><br><span class="line">&#125;</span><br><span class="line">.link &#123;</span><br><span class="line">	display: none;</span><br><span class="line">	position: fixed;</span><br><span class="line">	right: 30px;</span><br><span class="line">	bottom: 230px;</span><br><span class="line">	box-sizing: border-box;</span><br><span class="line">	width: 100px;</span><br><span class="line">	height: 100px;</span><br><span class="line">	background: lightcoral;</span><br><span class="line">	font-size: 16px;</span><br><span class="line">	color: #000;</span><br><span class="line">	text-decoration: none;</span><br><span class="line">	text-align: center;</span><br><span class="line">	line-height: 100px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;a href=&quot;javascript:;&quot; id=&quot;link&quot; class=&quot;link&quot;&gt;回到顶部&lt;/a&gt;</span><br><span class="line">let HTML = document.documentElement,</span><br><span class="line">	LINK = document.getElementById(&apos;link&apos;);</span><br><span class="line">//1.当浏览器滚动条滚动的时候，我们进行验证：卷去的高度超过两屏，我们让#LINK显示</span><br><span class="line">function check() &#123;</span><br><span class="line">	//winH:一屏幕高度  scrollT:卷去的高度</span><br><span class="line">	let winH = HTML.clientHeight,</span><br><span class="line">		scrollT = HTML.scrollTop;</span><br><span class="line">	LINK.style.display = scrollT &gt;= winH * 2 ? &apos;block&apos; : &apos;none&apos;;</span><br><span class="line">&#125;</span><br><span class="line">window.onscroll = check;</span><br><span class="line">//2.点击回到顶部</span><br><span class="line">(没有动画效果)</span><br><span class="line">LINK.onclick = function() &#123;</span><br><span class="line">	HTML.scrollTop = 0;</span><br><span class="line">&#125;;</span><br><span class="line">(有动画效果)</span><br><span class="line">LINK.onclick = function () &#123;</span><br><span class="line">	//让按钮隐藏</span><br><span class="line">	LINK.style.display = &apos;none&apos;;</span><br><span class="line">	//先禁止滚动事件触发（因为在回到顶部的运动过程中，如果事件一直在，会计算按钮显示隐藏的样式，无法让按钮隐藏）</span><br><span class="line">	window.onscroll = null;</span><br><span class="line">	//实现动画</span><br><span class="line">	let step = 1000;</span><br><span class="line">	let timer = setInterval(() =&gt; &#123;</span><br><span class="line">		//每一次获取最新的SCROLL-TOP值，在现有的基础上减去步长，让其走一步</span><br><span class="line">		let curT = HTML.scrollTop;</span><br><span class="line">		if (curT === 0) &#123;</span><br><span class="line">			//边界判断：已经回到顶部后，我们清除定时器</span><br><span class="line">			clearInterval(timer);</span><br><span class="line">			//恢复滚动条滚动的监听事件</span><br><span class="line">			window.onscroll = check;</span><br><span class="line">			return;</span><br><span class="line">		&#125;</span><br><span class="line">		curT -= step;</span><br><span class="line">		HTML.scrollTop = curT;</span><br><span class="line">	&#125;, 17);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//SET-INTERVAL：设置一个定时器（TIMER代表这个定时器），每间隔INTERVAL这么久，就会把FUNCTION执行一次...一直到手动清除定时器为止</span><br><span class="line">let timer = setInterval([FUNCTION], [INTERVAL]);</span><br><span class="line">clearInterval(timer);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//=&gt;offsetParent:获取它的父参照物（不一定是父元素）</span></span><br><span class="line"><span class="comment">//父参照物和它的父元素没有必然的联系，父参照物查找：同一个平面中，最外层元素是所有后代元素的父参照物，而基于position:relative / absolute /fixed可以让元素脱离文档流（一个新的平面），从而改变元素的父参照物</span></span><br><span class="line"><span class="built_in">document</span>.body.offsetParent === <span class="literal">null</span>;</span><br><span class="line"><span class="comment">//=&gt;offsetTop:距离其父参照物的上偏移</span></span><br><span class="line"><span class="comment">//=&gt;offsetLeft:距离其父参照物的左偏移（当前元素的外边框到父参照物的里边框）</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">offset: 获取当前元素距离BODY的左/上偏移（不论其父参照物是谁）</span><br><span class="line">	@params</span><br><span class="line">		curEle:current element当前要操作的元素</span><br><span class="line">	@return</span><br><span class="line">		[object]包含上/左偏移的信息 =&gt; &#123;top:xxx,left:xxx&#125;</span><br><span class="line">	by wujiang on 20200211</span><br><span class="line"></span><br><span class="line">function offset(curEle) &#123;</span><br><span class="line">	let par = curELe.offsetParent,</span><br><span class="line">		l = curEle.offsetLeft,</span><br><span class="line">		t = curEle.offsetTop;</span><br><span class="line">	//存在父参照物，而且还没有找到BODY</span><br><span class="line">	while (par &amp;&amp; par.tagName !== &quot;BODY&quot;) &#123;</span><br><span class="line">		//在原有偏移的基础上累计：父参照物的边框、父参照物的偏移</span><br><span class="line">		if (!/MSIE 8\.0/.test(navigator.userAgent)) &#123;</span><br><span class="line">			//IE8中偏移值自己就算了边框了，不需要我们在加边框的值</span><br><span class="line">			navigator.userAgent  获取当前浏览器的版本信息</span><br><span class="line">			l += par.clientLeft;</span><br><span class="line">			t += par.clientTop;</span><br><span class="line">		&#125;</span><br><span class="line">		l += par.offsetLeft;</span><br><span class="line">		t += par.offsetTop;</span><br><span class="line">		//继续获取上级参照物</span><br><span class="line">		par = par.offsetParent;</span><br><span class="line">	&#125;</span><br><span class="line">	return &#123;</span><br><span class="line">		top: t,</span><br><span class="line">		left: 1</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="getComputedStyle"><a href="#getComputedStyle" class="headerlink" title="getComputedStyle"></a><strong>getComputedStyle</strong></h3><blockquote>
<p>获取当前元素所有经过浏览器计算过的样式</p>
<ul>
<li>只要元素在页面中呈现出来，那么所有的样式都是经过浏览器计算的</li>
<li>哪怕你没有设置和见过的样式也都计算了</li>
<li>不管你写或者没写，也不论写在哪了，样式都在这，可以直接获取<br>在IE6~8浏览器中不兼容，需要基于currentStyle来获取</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//=&gt;第一个参数是操作的元素 第二个参数是元素的伪类:after/:before</span></span><br><span class="line"><span class="comment">//=&gt;获取的结果是CSSStyleDeclaration这个类的实例（对象），包含了当前元素所有的样式信息</span></span><br><span class="line"><span class="keyword">let</span> styleObj = <span class="built_in">window</span>.getComputedStyle([element],<span class="literal">null</span>);</span><br><span class="line">styleObj[<span class="string">"backgroundColor"</span>]</span><br><span class="line">styleObj.display</span><br><span class="line"></span><br><span class="line"><span class="comment">//=&gt;IE6~8</span></span><br><span class="line">styleObj = [element].currentStyle;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">图片延迟加载 “图片懒加载”</span><br><span class="line">1. 结构中，我们用一个盒子包裹着图片（在图片不展示的时候，可以占据着这个位置，并且设置默认的背景图或者背景颜色）</span><br><span class="line">2. 最开始，IMG的SRC中不设置任何的图片地址，把图片的真实地址设置给自定义属性DATA-SRC/TRUE-IMG(最开始不展示图片:可以让图片隐藏)</span><br><span class="line">3. 当浏览器窗口完全展示到图片位置的时候，我们再去加载真实图片，并且让其显示出来（第一屏幕中的图片一般都会延迟加载，来等待其它资源先加载完）</span><br><span class="line">&lt;style&gt;</span><br><span class="line">* &#123;</span><br><span class="line">	margin: 0;</span><br><span class="line">	padding: 0;</span><br><span class="line">&#125;</span><br><span class="line">img &#123;</span><br><span class="line">	border: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">img[src=&quot;&quot;] &#123;</span><br><span class="line">	display: none;</span><br><span class="line">&#125;</span><br><span class="line">.imgBox &#123;</span><br><span class="line">	box-sizing: border-box;</span><br><span class="line">	margin: 800px auto;</span><br><span class="line">	width: 300px;</span><br><span class="line">	heigth: 245px;</span><br><span class="line">	background: #ccc;</span><br><span class="line">&#125;</span><br><span class="line">.imgBox img &#123;</span><br><span class="line">	width: 100%;</span><br><span class="line">	height: 100%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;imgBox&quot;&gt;</span><br><span class="line">	&lt;img src=&quot;&quot; alt=&quot;&quot; trueImg=&quot;images/IE3.jpg&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">图片完全显示出来的条件</span><br><span class="line">	A：盒子底边距离BODY（页面最顶端）的距离：盒子的高度+盒子距	BODY的上偏移</span><br><span class="line">	B：浏览器底边距离BODY的距离：一屏幕的高度 + 卷去的高度</span><br><span class="line">	A&lt;=B：盒子就完全出现在用户的视野中</span><br><span class="line">让图片显示</span><br><span class="line">	获取图片TRUE-IMG属性的值，赋值给SRC属性，当图片能正常加载出来后，让图片显示即可</span><br><span class="line">let imgBox = document.querySelector(&apos;.imgBox&apos;),</span><br><span class="line">	_img = imgBox.querySelector(&apos;img&apos;);</span><br><span class="line">	</span><br><span class="line">//=&gt;显示图片</span><br><span class="line">//curImg：要显示的图片</span><br><span class="line">function lazyImg(curImg) &#123;</span><br><span class="line">	//给SRC赋值真实的图片地址</span><br><span class="line">	let trueImg = curImg.getAttribute(&quot;trueImg&quot;);</span><br><span class="line">	curImg.src = trueImg;</span><br><span class="line">	//校验图片是否能够正常加载出来：IMG.ONLOAD事件用来监听图片是否能加载</span><br><span class="line">	curImg.onload = function () &#123;</span><br><span class="line">		curImg.style.display = &apos;block&apos;;</span><br><span class="line">	&#125;;</span><br><span class="line">	//=&gt;设置自定义属性：isLoad存储当前图片已经加载过了</span><br><span class="line">	curImg.isLoad = true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//=&gt;监听页面滚动事件（不论基于什么方式，只要页面滚动了，则触发事件）</span><br><span class="line">window.onscroll = function () &#123;</span><br><span class="line">	//=&gt;已经加载过就不要在重复加载了</span><br><span class="line">	if (_img.isLoad) return;</span><br><span class="line">	let HTML = document.documentElement,</span><br><span class="line">		B = HTML.clientHeight + HTML.scrollTop,</span><br><span class="line">		//=&gt;当前案例中，获取距离BODY的上偏移完全可以imgBox.offsetTop,因为父参照物就是BODY</span><br><span class="line">		A = imgBox.offsetHeight + imgBox.offsetTop;</span><br><span class="line">	if (A &lt;= B) &#123;</span><br><span class="line">		//=&gt;符合图片显示的条件了</span><br><span class="line">		lazyImg(_img);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


      <blockquote class="mdui-m-t-5">
        
        <strong>PermaLink: </strong><a href="http://dream-theater.top/2020/02/16/原生JS操作DOM（二）/">http://dream-theater.top/2020/02/16/原生JS操作DOM（二）/</a>
      </blockquote>
      
    </div>
    <footer class="mdui-card-actions">
      
      
        <a class="mdui-ripple article_tags-link" href="/tags/Javascript/">Javascript</a>
      
    </footer>
    
  </article>
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.js"></script>
  <script>$("#main article .mdui-card-content img.fancybox").on("click",function(e){$.fancybox.open({src:$(this).attr("src")});});</script>


  <nav id="paginator">
    
      <a rel="prev" class="extend prev" href="/2020/02/16/Javascript数组及数组中常用的方法/">
        <button aria-label="prev" class="mdui-btn mdui-btn-raised mdui-btn-dense mdui-btn-icon mdui-color-theme-accent mdui-ripple"><i class="mdui-icon material-icons">arrow_back</i></button>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Prev
      </a>
    
    <div class="spacer"></div>
    
      <a rel="next" class="extend next" href="/2020/02/16/原生JS操作DOM（ 一 ）/">
        Next&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <button aria-label="next" class="mdui-btn mdui-btn-raised mdui-btn-dense mdui-btn-icon mdui-color-theme-accent mdui-ripple"><i class="mdui-icon material-icons">arrow_forward</i></button>
      </a>
    
  </nav>



</main>
  <footer id="footer" class="mdui-m-t-5 mdui-p-y-3 mdui-color-theme">
  <div class="mdui-p-y-0 mdui-text-center">
    
    
    
    
    
    
    
    
    
    
    
    
  </div>
  <div class="mdui-p-y-1 mdui-text-center">
    Copyright &copy; 2019 - 2020 Wujiang<br>
    Powered by <a href="https://hexo.io/" target="_blank" class="mdui-text-color-theme-accent">Hexo</a>
    
  </div>
</footer>
  <button id="gotop" class="mdui-fab mdui-fab-fixed mdui-fab-hide mdui-ripple mdui-color-theme-accent"><i class="mdui-icon material-icons">arrow_upward</i></button>
  
  <script src="/js/mdui.js"></script>
<script src="/js/script.js"></script>
</body>
</html>